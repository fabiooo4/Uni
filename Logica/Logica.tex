\documentclass{article}
\usepackage[italian]{babel}
\usepackage{amsfonts}
\usepackage{mdframed}
\usepackage{ntheorem}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{float}
\usepackage{graphicx}
\graphicspath{ {./figures/} }

\usepackage{import}
\usepackage{pdfpages}
\usepackage{transparent}
\usepackage{enumitem}
\usepackage{xcolor}

\newtheorem{theorem}{Teorema}

% Inkscape figures
\newcommand{\incfig}[2][1]{%
	\def\svgwidth{#1\columnwidth}
	\import{./figures/}{#2.pdf_tex}
}

\pdfsuppresswarningpagegroup=1

% Useful definitions frame
\theoremstyle{break}
\theoremheaderfont{\bfseries}
\newmdtheoremenv[%
	linecolor=gray,leftmargin=0,%
	rightmargin=0,
	innertopmargin=8pt,%
	ntheorem]{define}{Definizioni utili}[section]

% Example frame
\theoremstyle{break}
\theoremheaderfont{\bfseries}
\newmdtheoremenv[%
	linecolor=white,leftmargin=0,%
	rightmargin=0,
	innertopmargin=8pt,%
	ntheorem]{example}{Esempio}[section]

% Important definition frame
\theoremstyle{break}
\theoremheaderfont{\bfseries}
\newmdtheoremenv[%
	linecolor=gray,leftmargin=0,%
	rightmargin=0,
	backgroundcolor=gray!40,%
	innertopmargin=8pt,%
	ntheorem]{definition}{Definizione}[section]

% Exercise frame
\theoremstyle{break}
\theoremheaderfont{\bfseries}
\newmdtheoremenv[%
	linecolor=gray,leftmargin=0,%
	rightmargin=0,
	innertopmargin=8pt,%
	ntheorem]{exercise}{Esercizio}[section]



\begin{document}
\input{title.tex}

\tableofcontents
\pagebreak

\section{Ripasso di matematica}
\subsection{Relazioni}
Prendendo in considerazione 2 insiemi \( A, B \) e una relazione \( f \subseteq A\times B \)
si definisce \textbf{dominio} l'insieme \( A \) e \textbf{codominio} l'insieme \( B \).
Il prodotto cartesiano è definito nel seguente modo:
\[
	A \times B = \{(a,b) | a \in A, b \in B\}
\]
Ciò significa che si prende in considerazione una coppia ordinata di elementi formata da
un elemento di \( A \) e uno di \( B \).
La relazione \( f \) è una funzione sse (se e solo se) \( \forall a \in A \) \( \exists \) unico \( b \in B \)
si dice che: \( (a,b) \in f \), oppure \( f(a) = b \).

\subsection{Sottoinsieme delle parti}
Dato un insieme \( A \) si definisce \textbf{sottoinsieme delle parti} (scritto \( \mathcal{P}(A) \) o \( 2^{A} \))
l'insieme di tutti i sottoinsiemi di \( A \), cioè \( 2^{A} = {x|x \subseteq A} \).

Un esempio è il seguente:
\[
	A = \{3, 5\}
\]
\[
	2^{A} = \{ \emptyset, \{3\}, \{5\}, \{3,5\} \}
\]

\( \emptyset \) è l'insieme vuoto, cioè l'insieme che non contiene nessun elemento.

\section{Introduzione}
La logica ha lo scopo di formalizzare il ragionamento matematico
che è caratterizzato dal concetto di dimostrazione senza ambiguità

\section{Sintassi della logica proposizionale}
La logica proposizionale è formata da simboli formali ben definiti
e sono divisi in:
\subsection{Connettivi}
\begin{itemize}
	\item \( \vee \) Congiunzione, And logico
	\item \( \wedge \) Disgiunzione, Or logico
	\item \( \neg \) Negazione, Not logico (non connette niente, è solo una costante logica
	      che equivale a 0 nella logica booleana)
	\item \( \bot \) Falso, Bottom, Assurdo
	\item \( \to  \) Implicazione, If-then
\end{itemize}

\subsection{Ausiliari}
\begin{itemize}
	\item () Le parentesi non fanno parte della proposizione,
	      ma servono solo a costruire il linguaggio
\end{itemize}

\subsection{Simboli proposizionali}
\begin{itemize}
	\item \( p_n, q_n, \psi_n, \ldots  \) Le lettere minuscole indicizzate vengono usate per indicare
	      una proposizione (sono infiniti simboli numerabili)
\end{itemize}

\subsection{Altri simboli}
\begin{itemize}
	\item \( | \) Tale che
	\item \( \leftrightarrow \) Se e solo se
\end{itemize}

\begin{define}
	\begin{enumerate}
		\item \textbf{Stringa}: Una sequenza finita di simboli o caratteri
		\item \textbf{Infinito numerabile}: Un insieme è infinito numerabile se è il
		      più piccolo infinito possibile, cioè se è in corrispondenza
		      biunivoca con l'insieme \( \mathbb{N} \)
	\end{enumerate}
\end{define}

\section{Principio di induzione}
Il principio di induzione è un principio logico che permette di dimostrare che una proprietà è vera
per tutti gli elementi di un insieme infinito numerabile.

Una prima definizione induttiva fatta in modo non formale, ma con frasi in italiano è la seguente:

L'insieme di proposizioni \( PROP \) è così definito \emph{induttivamente}:
\begin{enumerate}
	\item \( \bot \to PROP \)
	\item se \( p \) è un simbolo proposizionale allora \( p \in PROP \)
	\item \textbf{(Caso induttivo)} se \( \alpha, \beta \in PROP \) allora
	      \( (\alpha \wedge \beta ) \in PROP, (\alpha \vee \beta ) \in PROP,
	      (\alpha \to \beta ) \in PROP, (\neg \alpha ) \in PROP \)
	\item nient'altro appartiene a \( PROP \)
\end{enumerate}

In questo modo è stato creato l'insieme \( PROP \) che contiene tutte le proposizioni che possono essere create
usando gli unici simboli che abbiamo definito \( (\wedge, \vee, \to, \neg) \).
\vspace{0.5cm}
\\
Esempi di proposizioni corrette e scorrette:
\begin{itemize}
	\item \( (p_{7} \to p_{0}) \in PROP \)
	\item \( p_{7} \to p_{0} \notin PROP \) (mancano le parentesi)
	\item \( ((\bot \vee p_{32}) \wedge (\neg p_{2})) \in PROP \)
	\item \( ((\to \wedge \notin PROP \)
	\item \( \neg \neg \bot \notin PROP \)
\end{itemize}

\subsection{Definizione induttiva formale dell'insieme \( PROP \)}
Adesso l'insieme \( PROP \) viene definito in modo formale usando i simboli proposizionali.
\begin{definition}
	L'insieme \( PROP \) è il più piccolo insieme \( X \) di stringhe tale che:
	\begin{enumerate}
		\item \( \bot \in X \)
		\item \( p \in X \) (Perchè è un simbolo proposizionale)
		\item se \( \alpha, \beta \in X \) allora \( (\alpha \to \beta ) \in X, (\alpha \vee \beta ) \in X,
		      (\alpha \wedge \beta ) \in X, (\neg \alpha ) \in X \)
	\end{enumerate}
	\( p, \alpha , \beta, \ldots  \) sono elementi proposizionali generici
\end{definition}
\underline{\( AT  = \) simboli proposizionali + \( \bot \)}
è l'insieme di tutte le proposizioni atomiche,
cioè quelle che non contengono connettivi, sono quindi la più piccola parte
non ulteriormente scomponibile

\section{Proprietà su un insieme}
Definito \( P \) un insieme di proprietà assunte da un insieme \( A \) si ha che:
\begin{itemize}
	\item \( P \subseteq A \)
	\item \( a \in A \) dove \( a \) è un elemento generico dell'insieme \( A \)
\end{itemize}
Si dice che \( a \) gode della proprietà \( P \) se \( a \in P \).

Altri modi per dire che \( a \) gode della proprietà \( P \) sono:
\begin{itemize}
	\item \( P(a) \)
	\item \( P[a] \) (per non creare confusione con le parentesi tonde che sono
	      usate come simboli ausiliari per costruire il linguaggio)
\end{itemize}

\( P \subseteq PROP \)\hspace{5mm} \( \forall \alpha \in PROP \) \( . \) \( P(\alpha ) \)\\
(il punto mette in evidenza ciè che viene dopo di esso e può anche essere omesso)

\begin{example}
	Esempio di una proprietà sull'insieme \( \mathbb{N} \):

	\( P = \{n | n \in \mathbb{N} \) ed è pari \( \} \) essendo \( n \) un numero generico
	indica la proprietà di essere pari.
	\\
	\( P[5] \) \( \times  \)\\
	\( P[4] \) \( \surd \)
\end{example}

\subsection{Principio di induzione sui numeri naturali \( \mathbb{N} \)}
\( P \subseteq \mathbb{N} \)
\begin{enumerate}
	\item \textbf{Caso base}: se \( P[0] \) e
	\item \textbf{Passo induttivo}: se \( \forall n \in \mathbb{N} (P[n] \Rightarrow P[n+1]) \)
	      allora \( \forall n \in \mathbb{N} \hspace{2mm} . \hspace{2mm} P[n] \)
\end{enumerate}

Se si dimostra la proprietà per \( n \) e per il successivo \( (n+1) \), allora
si dimostra che la proprietà è vera per tutti i numeri naturali. Si sfrutta
il fatto che esiste un minimo a cui prima o poi si arriva.
\begin{exercise}
	Dimostra per induzione che:
	\[\sum_{i=0}^{n} i = \frac{n(n+1)}{2}\]

\end{exercise}
\section{Teorema del principio di induzione delle proprietà su \( PROP \)}
\begin{definition}
	\( P \subseteq PROP \)
	\begin{enumerate}
		\item Se \( P[\alpha ], \alpha \in AT \) e
		\item Se \( P[\alpha ] \Rightarrow P[(\neg \alpha )] \) e
		\item se \( P[\alpha ]\) e \(P[\beta ] \Rightarrow P[(\alpha \wedge \beta )],
		      P[(\alpha \vee \beta) P[(\alpha \to \beta )]\)\\
		      allora \( \forall \psi \in PROP \hspace{2mm} . \hspace{2mm} P[\psi]\)
	\end{enumerate}
\end{definition}

Con questo teorema si possono dimostrare intere proposizioni complesse dimostrando i pezzi
più piccoli (\textbf{\emph{sottoformule}}) come mostrato nella figura \ref{fig:dimostrazionecomplessa}.

\label{ex:dimostrazioneComplessa}
\begin{figure}[ht]
	\centering
	\incfig[1]{dimostrazionecomplessa}
	\caption{Dimostrazione di una formula complessa}
	\label{fig:dimostrazionecomplessa}
\end{figure}

\pagebreak

\begin{exercise}
	\label{ex:parentesiPari}
	Dimostra che ogni \( \psi \in PROP \) ha un numero pari di parentesi usando
	il principio di induzione per dimostrare proprietà sintattiche sulla struttura
	delle formule.

	\( P[\psi] \equiv \) \( \psi \) ha un numero pari di parentesi
	\begin{enumerate}
		\item \textbf{Caso base} \( \psi \in AT \) quindi \( \psi \) ha 0 parentesi
		      e quindi è pari: \( P[\psi] \) \( \surd \)
		\item \textbf{Ipotesi induttiva} \( \alpha , \beta \in PROP, \) \( P[\alpha ], P[\beta ] \)
		      ? \( P[(\alpha \to \beta )] \) (per \( \alpha  \) vale e per \( \beta  \) vale, si sono
		      aggiunte due parentesi, quindi la formula è ancora pari)
		\item \textbf{Passo induttivo} \( P[\alpha], P[\beta] \Rightarrow P[(\alpha \to \beta )], P[(\alpha \vee \beta )],
		      P[(\alpha \wedge \beta)]\) allora \( \forall \psi \in PROP \hspace{2mm}.\hspace{2mm} P[\psi] \)

	\end{enumerate}
\end{exercise}

\section{Definizione ricorsiva di funzioni su PROP}
\begin{definition}
	Riprendendo l'esercizio \ref{ex:parentesiPari} si definisce la funzione \( \pi \) che associa ad ogni formula
	proposizionale (equivalente di un input nell'informatica) un numero naturale
	(equivalente di un output nell'informatica). La funzione \( \pi \) quindi dopo aver dato in input
	un argomento (qualsiasi formula proposizionale atomica o complessa) restituisce in output
	il numero di parentesi che contiene la formula in input.
	\[ \pi : PROP \to \mathbb{N} \]
	\begin{enumerate}
		\item \textbf{Caso base} \( \pi [\alpha] = 0 \) se \( \alpha \in AT \)
		\item \textbf{Ipotesi induttiva} \( \pi[(\neg \alpha)] = \pi[\alpha ] + 2 \) In questo passaggio viene
		      chiamata la funzione \( \pi \) dentro la funzione \( \pi \) stessa, quindi è una definizione
		      ricorsiva. In questo caso si aggiungono 2 parentesi al numero di parentesi di \( \alpha \) \(\pi[\alpha] \)
		\item \textbf{Passo induttivo} \( \pi[(\alpha \to \beta )] = \pi[(\alpha \vee \beta)] =
		      \pi[(\alpha \wedge \beta )] = \pi[\alpha] + \pi[\beta] + 2\) dove \( \pi[\alpha ] \) e \( \pi[\beta ] \)
		      sono il numero di parentesi di \( \alpha \) e \( \beta \) e si aggiungono 2 parentesi per
		      il connettivo.
	\end{enumerate}
\end{definition}

Di seguito ci sono 2 esempi in cui viene messa in pratica la funzione \( \pi \) definita sopra in
modo da capire meglio come funziona.

\begin{example}
	\[
		\pi[(p_{2}\to p_{1})]\stackrel{caso \:3}{=}\pi[p_{2}]+\pi[p_{1}]+2\stackrel{caso \:1}{=}0+0+2=2
	\]
\end{example}
\begin{example}
	\[
		\pi[(p_{1}\vee (p_{2}\vee p_{1}))] = (\pi[p_{2}] + \pi[p_{1}] + 2) + \pi[p_{1}] + 2 = (0 + 0 + 2) + 0 + 2 = 4
	\]
\end{example}

Tutte le funzioni definite ricorsivamente sono funzioni, ma non tutte le funzioni possono essere definite ricorsivamente.

\subsection{Definizione più precisa dell'esercizio \ref{ex:parentesiPari}}
Ogni \( \alpha \in PROP \) ha un numero pari di parentesi: \( \forall \alpha \in PROP \) \( P[\alpha] \stackrel{sse}{\Leftrightarrow} \pi[\alpha] \) è pari
\begin{enumerate}
	\item \( P[\alpha ] \) \( \alpha \in AT \)

	      se \( \alpha \in AT \! \) \( \pi[\alpha]\stackrel{def}{=}0 \) quindi \( \surd \)
	\item Suppongo che valga \( P[\alpha ],\; P[(\neg \alpha )] \: ? \)

	      \( P[\alpha ] \Leftrightarrow \pi[\alpha ] pari \) è pari perchè lo abbiamo supposto prima (consideriamo 0 come pari)


	      \( \pi[(\neg \alpha )] = \pi [\alpha ] + 2 \) è pari quindi \( P[(\neg \alpha )] \; \surd \)

	      Si può definire un simbolo nuovo che non vuole dire niente nel linguaggio proposizionale e
	      gli si assegnano i connettivi possibili per non doverli più scrivere ogni volta.
	      Per questo esercizio prendiamo in considerazione \[ \circ \in \{\to , \vee, \wedge\} \]

	\item \( (\alpha \circ \beta) \)

	      suppongo \( P[\alpha ], P[\beta ] \)

	      allora \( \pi[\alpha ] \) e \( \pi[\beta ] \) sono pari

	      quindi \( \pi[(\alpha \circ \beta )] = \pi[\alpha ] + \pi[\beta ] + 2 \;\) (è pari)

\end{enumerate}

Ho dimostrato per induzione che \( \forall \psi \in PROP \; P[\psi] \; \) \( \Box \)

(\( \Box \) è un simbolo che indica la fine della dimostrazione.)

\section{Dimostrazione ricorsiva di rango e sottoformula}
Il rango di una formula è il numero di connettivi che contiene.
\begin{definition}
	Considerato \( r \) il rango di una proposizione

	\( r: PROP \to \mathbb{N} \)

	\begin{enumerate}
		\item \( r[\psi] = 0 \) se \( \psi \in AT \)
		\item \( r[(\neg \psi)] = 1 + r[\psi] \)
		\item \( r[(\psi \circ \gamma )] = 1 + max(r[\psi], r[\gamma]) \hspace{5mm} \) \( \circ \in \{\vee, \wedge, \to \} \)

	\end{enumerate}
\end{definition}

La sottoformula è una formula che è contenuta in un'altra formula più grande.
\begin{definition}
	Considerata \( sub \) la sottoformula di una proposizione\\
	\( sub: PROP \to 2^{PROP} \)
	\begin{enumerate}
		\item \( sub[\alpha] \) \( \alpha = ((p_{2} \vee p_{1}) \vee p_{0} ) \)
		\item \( sub[\alpha] = \{\alpha, p_2, p_0, (p_2 \vee p_1)\} \)
	\end{enumerate}
\end{definition}

\subsection{Applicazione della definizione di sottoformula}
\begin{enumerate}
	\item \( sub[\psi] = \{ \psi \} \) se \( \psi \in AT \)
	\item \( sub[(\neg \psi)] = \{ (\neg \psi) \} \cup sub[\psi] \)
	\item \( sub[(\psi \to \gamma)] = \{(\psi \circ \gamma)\} \cup sub[\psi] \cup sub[\gamma] \)
\end{enumerate}

\begin{theorem}
	Vogliamo dimostrare per induzione su \( \beta \) :\\
	Se \( \alpha \in sub[\beta] \) e \( \alpha \neq \beta \) (dove \( \alpha \)
	è una sottoformula propria, cioè vengono considerate tutte le sottoformule
	di \( \beta \) tranne \( \beta \) stessa)
	allora \( r[\alpha] < r[\beta] \)
	\begin{enumerate}
		\item \textbf{Caso base} \( \beta \in AT \)\\
		      \( \beta \) non ha sottoformule proprie, quindi \( \alpha \)
		      non può essere una sottoformula propria di \( \beta \).
		      Essendo falsa la premessa la tesi è vera.
		\item Se \( \beta=(\neg \beta_1): \) se \( \alpha \in sub[\beta] \) e
		      \( \alpha \neq \beta \)
		      allora \( \alpha \in  sub[\beta_1] \)  e si dimostra
		      \( r[\alpha] \le r[\beta_1] \) \textbf{(ipotesi induttiva)}
		      \begin{enumerate}
			      \item \( \alpha \in sub[\beta_1] \) e \( \alpha \neq \beta_1 \)
			            per ipotesi induttiva \( r[\alpha] < r[\beta_1] \)
			      \item \( \alpha = \beta_1 \) \( r[\alpha] = r[\beta_1] \)\\
			            \( r[\alpha] \le r[\beta_1] \)
		      \end{enumerate}
		      Quindi
		      \[
			      r[\stackrel{\beta}{(\neg \beta_1)}] \stackrel{def\; r}{=} 1 + r[\beta_1]\ge 1+r[\alpha]>r[\alpha]
		      \]
		      Quindi
		      \[
			      r[\alpha] < r[\beta]
		      \]
		\item \textbf{Caso induttivo}\\
		      \( \beta = (\beta_1 \to \beta_2) \) se \( \alpha \)  è
		      sottoformula di \( \beta \) e \( \alpha \neq \beta \)
		      allora \( \alpha \in sub[\beta_1] \) o \( \alpha \in sub[\beta_2]\)
		      \begin{enumerate}
			      \item se \( \alpha \in sub[\beta_1] \) (ipotesi induttiva)
			            \begin{enumerate}
				            \item \label{sub3a1} Se \( \alpha \neq \beta_1 \Rightarrow
				                  \stackrel{ii\: su\: \beta_1 }{r[\alpha] \le r[\beta_1]} \)
				            \item \label{sub3a2} Se \( \alpha = \beta_1 \Rightarrow r[\alpha] = r[\beta_1]\)
			            \end{enumerate}
			            Da \ref{sub3a1} e \ref{sub3a2} si ricava \( r[\alpha] \le r[\beta_1] \)
			      \item se \( \alpha \in sub[\beta_2] \)
			            \begin{enumerate}
				            \item \label{sub3b1} Se \( \alpha \neq \beta_2 \Rightarrow
				                  \stackrel{ii\: su\: \beta_{2} }{r[\alpha] \le r[\beta_2]} \)
				            \item \label{sub3b2} Se \( \alpha = \beta_2 \Rightarrow r[\alpha] = r[\beta_2]\)
			            \end{enumerate}
			            Da \ref{sub3b1} e \ref{sub3b2} si ricava \( r[\alpha] \le r[\beta_2] \)
		      \end{enumerate}
		      \[
			      \stackrel{\beta}{r[(\beta_1 \to \beta_2)]} = 1 + max\{\stackrel{\ge \alpha}{r[\beta_1]}
			      ,\stackrel{\ge \alpha}{r[\beta_2]}\}\ge 1+ max\{r[\alpha], r[\alpha]\}
			      \ge 1+ r[\alpha] > r[\alpha]
		      \]
	\end{enumerate}
\end{theorem}

\section{Semantica delle formule proposizionali}
Considerando una formula \( \alpha \) si associano 2 possibli valori:
\begin{itemize}
	\item Vero (1)
	\item Falso (0)
\end{itemize}

\subsection{Valutazione delle formule logiche}
\( V: PROP \to \{ 0, 1 \} \)\\
\( V(p_1) =\; ?\;\) \( 0 \) o \( 1 \)
\begin{figure}[H]
	\begin{example}
		Le seguenti funzioni non sono valide:
		\begin{itemize}
			\item \( V(\alpha) = V(\neg \alpha) \)
			\item \( V(\alpha) = 0 \) \( \forall \alpha \)
		\end{itemize}
	\end{example}
\end{figure}

\( V: PROP \to \{ 0, 1 \} \) è una valutazione se:
\begin{enumerate}
	\item \( V(\alpha \wedge \beta) = 1 \leftrightarrow V(\alpha) = 1\; \&\; V(\beta) = 1 \)
	\item \(V(\alpha \vee \beta) = 1 \leftrightarrow V(\alpha) = 1\; or\; V(\beta) = 1 \)
	\item \( V(\neg \alpha) = 1  \)
	\item \( V(\bot) = 0 \)
	\item \( V(\alpha \to \beta) = 1 \leftrightarrow [ V(\alpha) = 1 \Rightarrow V(\beta) = 1] \)
	\item[5.2] \( V(\alpha \to \beta) = 1 \leftrightarrow V(\alpha) = 0\; or\; V(\beta) = 1  \)
\end{enumerate}

\subsection{Valutazione atomica}
\( v \) è detta \textbf{valutazione (atomica)} se:\\
\( v: AT \to \{0,1\}\) e \(v(\bot) = 0 \)

\begin{definition}
	Teorema:\\
	Data una valutazione atomica \( v \) esiste ed è unica una valutazione
	\[
		[| \cdot |]_v\footnote{\([| \cdot |]\) sono parentesi denotazionali, cioè
			indicano che stiamo valutando il valore della valutazione, quindi della semantica}: PROP \to \{0,1\}
	\] tale che:\[
		[| \alpha |]_v= V(\alpha) \; per\; \alpha \in AT
	\]
\end{definition}

\subsection{Tavole di verità}
Il valore di verità di una formula è determinato (universalmente) dal
valore dei suoi atomi.

\subsubsection{Tavola di verità per \( \vee \) }
\( [|(\alpha \vee \beta)]_v = 1 \leftrightarrow [|\alpha|]_v = 1\; or\; [|\beta|]_v = 1 \)
\begin{center}
	\begin{tabular}{c|c|c}
		\( \alpha \) & \( \beta \) & \( \alpha \vee \beta \) \\
		\hline
		0            & 0           & 0                       \\
		0            & 1           & 1                       \\
		1            & 0           & 1                       \\
		1            & 1           & 1                       \\
	\end{tabular}
\end{center}
\subsubsection{Tavola di verità per \( \wedge \) }
\begin{center}
	\begin{tabular}{c|c|c}
		\( \alpha \) & \( \beta \) & \( \alpha \wedge \beta \) \\
		\hline
		0            & 0           & 0                         \\
		0            & 1           & 0                         \\
		1            & 0           & 0                         \\
		1            & 1           & 1                         \\
	\end{tabular}
\end{center}

\subsubsection{Tavola di verità per \( \to  \) }
\begin{center}
	\begin{tabular}{c|c|c}
		\( \alpha \) & \( \beta \) & \( \alpha \to \beta \) \\
		\hline
		0            & 0           & 1                      \\
		0            & 1           & 0                      \\
		1            & 0           & 1                      \\
		1            & 1           & 1                      \\
	\end{tabular}
\end{center}

\subsection{Esempi di tabelle di verità}
\begin{example}
	\[
		\alpha = ((p_2 \to  p_1)\vee p_2)
	\]
	\begin{center}
		\begin{tabular}{c|c|c|c}
			\( p_1 \) & \( p_2 \) & \( (p_1 \to p_2) \) & \( ((p_2 \to  p_1)\vee p_2) \) \\
			\hline
			0         & 0         & 1                   & 1                              \\
			0         & 1         & 0                   & 1                              \\
			1         & 0         & 1                   & 1                              \\
			1         & 1         & 1                   & 1                              \\
		\end{tabular}
	\end{center}
	A ogni riga corrisponde una valutazione atomica: \( v_1[p_1] = 0, v_1[p_2] = 0 \) ecc...
\end{example}

\begin{exercise}
	Valutare: \( [|\alpha|]_{v_1} \) dell'esercizio precedente:
	\[ [|(p_2 \to p_1)|]_{v_1}=1 \leftrightarrow [|p_2|]_{v_1}\stackrel{punto 5.2}{=} 0\; or\; [|p_1|]_{v_1}=1 \]
	\[ [|((p_2 \to p_1)\vee p_2)|]_{v_1} = 1 \leftrightarrow [|(p_2 \to p_1)|]_{v_1}=1;\ or\; [|p_2|]_{v_1}=1 \]
\end{exercise}

\begin{exercise}[A casa]
	Valutare \( [|\alpha|]_{v_2} \)
\end{exercise}


\subsection{Formule privilegiate}
\begin{theorem}
	\( \phi \in PROP \) sia \( \phi^{AT} = \{ p | p \in AT\; \&\; p \) è in \( \phi\} \) \\
	Siano \( v_1 \) e \( v_2 \) valutazioni atomiche\\
	tali che: \( \forall p \in \phi^{AT} \) \( v_1[p]=v_2[p] \) \\
	allora \( [|\phi|]_{v_1} = [|\phi|]_{v_2} \)
\end{theorem}

\begin{figure}[H]
    \begin{definition}
        \( \alpha \in PROP \) è detta \textbf{tautologia} se per ogni valutazione
        v: \( [|\alpha|]_v = 1 \)\\
        \(
        \models \phi
        \) indica una formula privilegiata (di cui fa parte la tautologia)
    \end{definition}
\end{figure}

\( \forall v [|\alpha|]_v = 1 \) è una formula privilegiata? \( \models \alpha \)
\begin{itemize}
	\item Sì \( \Rightarrow \) dimostro \textbf{per ogni \( v \)} che \( [|\alpha|]_v = 1\) (\( \forall  \)\footnote{Per far si che sia vero
		      dobbiamo dimostrare che sia vero per ogni elemento})
	\item No \( \Rightarrow \) esibisco una specifica valutazione
	      tale che \( [|\alpha|]_v= 0 \) (\( \exists  \)\footnote{Per far si che sia falso
		      dobbiamo dismostrare che almeno una valutazione sia falsa (controesempio)})
\end{itemize}

\section{Struttura esercizi di semantica}
\begin{exercise}
	Vogliamo dimostrare una formula che implica se stessa:
	\[
		\models (\alpha \to \alpha)
	\]
	\[ \forall v\: . \: [|(\alpha \to \alpha)]_v = 1 \]
	\[
		[|(\alpha \to \alpha)]_v = 1 \stackrel{def}{\Leftrightarrow} [|\alpha|]_v=0\; or\; [|\alpha|]_v=1
	\]
\end{exercise}

\begin{exercise}
	Vogliamo dimostrare:
	\[
		\models ((\alpha \wedge \beta) \to \alpha)
	\]
	\[ \forall v\;.\; [|((\alpha \wedge \beta)\to \alpha|)]_v=1 \Leftrightarrow\]
	\[[|(\alpha \wedge \beta)]_v = 0\; or\; [|\alpha|]_v=1 \Leftrightarrow\]
	\[([|\alpha|]_v=0 \; or\; [|\beta|]_v=0)\;or\; [|\alpha|]_v=1\]
\end{exercise}
\begin{figure}[H]
	\begin{exercise}
		Vogliamo dimostrare:
		\[
			\models (\alpha \to (\beta \to \alpha))
		\]
		\[ \forall v\;.\; [|(\alpha \to (\beta \to \alpha))]_v = 1 \Leftrightarrow \]
		\[ [|\alpha|]_v=0 \; or \; [|(\beta \to \alpha)|] = 1 \Leftrightarrow \]
		\[ [|\alpha|]_v = 0 \; or \; ([|\beta|]_v = 0 \; or \; [|\alpha|]_v = 1) \]
		Ho tutte le possibilità per \( \alpha \) (\( [|\alpha|]_v=0,\; [|\alpha|]_v=1\)),
		quindi la formula è vera.
	\end{exercise}
\end{figure}

\subsection{Prova con il contromodello}
\begin{figure}[H]
	\begin{exercise}
		È vero che la seguente formula è una tautologia? NO
		Ragiona sullo stesso esercizio, ma se ci fosse \( \vee \)
		\[
			\models (\alpha \to (\alpha \wedge \beta))
		\]
		Bisogna trovare un'istanza di \( \alpha \) e \( \beta \) e una valutazione \( v \).

		Assumo che \( \alpha \) sia \( p_0 \) e \( \beta \) sia \( p_1 \)
		\[ \exists v\; t.c.\; [|p_0 \to (p_0 \wedge p_1)]_v=0 \]
		Per assegnare i valori a \( p_0 \) e \( p_1 \) si può anche usare
		la tabella di verità della formula intera.
		\[v[p_0]=1\; v[p_1]=0 \] (\textbf{Contromodello}) 1 non può implicare 0\\
		Verifichiamo che sia vero che esca il contromodello
		\[
			[|(p_0 \to (p_0 \wedge p_1))|]_v=0 \Leftrightarrow
		\]\[
			p_0=\delta\; \; \; (p_0 \wedge p_1) = \gamma
		\] \[
			(|\delta \to  \gamma) = 0
		\] \[
			[|p_0|]_v=1 \;\&\; [|(p_0 \wedge p_1)|]_v=0 \Leftrightarrow
		\] \[
			[|p_0|]_v=1 \;\&\; ([|p_0|]_v=0 \; or \; [|p_1|]_v=0)
		\]
		\( [|p_0|]_v=1 \) è vero e anche il pezzo dopo \&, quindi è tutto vero.

	\end{exercise}
\end{figure}

\section{Soddisfacibilità della formula}
Si definisce:
\begin{itemize}
	\item \( \alpha \in PROP \) è soddisfacibile se esiste \( v \):
	      \[
		      [|\alpha|]_v = 1
	      \]
	\item \( \alpha \) non è soddisfacibile quando non esiste:
	      \[
		      \not\exists v\; t.c.\; [|\alpha|]_v = 1
	      \]
\end{itemize}
\( \Gamma \) insieme formule proposizionali\\
\( \Gamma \) è soddisfacibile quando:
\[
	\exists v\; t.c.\; \forall \phi \in \Gamma\; [|\phi|]_v = 1
\]
\section{Conseguenza logica}
\begin{center}
	Ipotesi \( \to  \) tesi
\end{center}
\( \Gamma, E, \Delta \) Insiemi arbitrari di formule \( \alpha, \beta, \gamma \)
\[
	\stackrel{ipotesi}{\Gamma} \models \stackrel{tesi}{\alpha}
\]
Si può leggere in più modi:
\begin{itemize}
	\item Da \( \Gamma \) segue semanticamente \( \alpha \)
	\item \( \alpha \) è conseguenza logica/semantica di \( \Gamma \)
\end{itemize}
\begin{figure}[H]
	\begin{definition}
		La verità dell'ipotesi fa conseguire la verità della tesi.
		\begin{center}
			\( \Gamma \models \alpha \) sse \( \forall v \) se \( \forall \phi \in \Gamma \) allora \( [|\phi|]_v = 1 \) allora \( [|\alpha|]_v = 1 \)
		\end{center}
		Le denotazione dell'insieme vuol dire che tutte le formule dell'insieme
		sono vere.
		\[
			[|\Gamma|]_v=1 \Leftrightarrow \forall \alpha \in \Gamma\; [|\alpha|]_v = 1 \Rightarrow [|\alpha|]_v = 1
		\]
		\[
			\Gamma \models \alpha \Leftrightarrow \forall v\; [|\Gamma|]_v=1 allora [|\alpha|]_v=1
		\]
		La seguente formula vuol dire che esiste almeno una formula falsa nell'
		insieme \( \Gamma \)
		\[
			[|\Gamma|]_v \neq 1
		\]
		Che è diverso dal dire:
		\[
			[|\Gamma|]_v = 0
		\]
		Che significa che tutte le formule di \( \Gamma \) valgono 0.
	\end{definition}
\end{figure}

\begin{exercise}[easy]
	Vogliamo provare:
	\[
		(\alpha \wedge \beta) \models \alpha
	\]
	Applico la definizione e prendo una valutazione generica
	\[
		[|(\alpha \wedge \beta)|]_v =1 \Rightarrow [|\alpha|]_v=1
	\]
	Usiamo le definizioni semantiche dei connettivi per valutare la prima parte dell'espressione
	\[
		[|(\alpha \wedge \beta)|]_v=1 \Leftrightarrow [|\alpha|]_v=1\; \&\; [|\beta|]_v=1
		\Rightarrow [|\alpha|]_v=1
	\]
\end{exercise}

\begin{exercise}
	Definiamo un insieme separando con la virgola le formule che lo compongono\footnote{
		Equivale a dire: \( \Gamma=\{ \beta_1, \beta_2, \ldots \}\; \) la virgola vuol dire
		\(\; \Gamma \cup \Delta \models \alpha\; \) o \(\; \alpha \wedge \beta \)
	}
	\[
		(\alpha \to \beta),\; \alpha \models \beta
	\]
	\[
		\forall v.\; [|(\alpha \to \beta),\; \alpha|]_v=1 \Rightarrow [|\beta|]_v=1
	\]
	\[
		[|(\alpha \to \beta), \alpha|]_v=1 \Leftrightarrow\]
	\[[|\alpha \to \beta|]_v=1\; \&\; [|\alpha|]_v=1 \Leftrightarrow
	\]
	\[
		([|\alpha|]_v=0\; or\; [|\beta|]_v=1)\; \&\; [|\alpha|]_v=1 \Rightarrow
	\]
	\[
		[|\beta|]_v=1
	\]
\end{exercise}

\begin{exercise}[a casa]
	\[
		\Gamma,\alpha \models \beta \Rightarrow \Gamma \models \alpha \to \beta
	\]
    \[
        \Gamma,\alpha \models \beta \stackrel{def}{\Leftrightarrow} \forall v.\; [|(\Gamma,\alpha)|]_v=1 \Rightarrow [|\beta|]_v=1 \Leftrightarrow
    \]
    Per la definizione di implicazione:
    \[
        \forall v.\; [|\Gamma,\alpha|]_v \neq 1\; opure\; [|\beta|]_v=1 \Leftrightarrow
    \] 
    \[
        \forall v.\; [|\Gamma|]_v \neq 1\; oppure\; [|\alpha|] = 0\; oppure\; [|\beta|]_v=1 \Leftrightarrow
    \] 
    Non \( a \) o \( b \) è la definizione dell'implica:
    \[
        \forall v.\; [|\Gamma|]_v \neq 1\; or\; [|\alpha \to \beta|]_v=1 \Leftrightarrow
    \] 
    Applicando di nuovo la definizione di implicazione:
    \[
        \forall v.\; [|\Gamma|]_v=1 \Rightarrow [|\alpha \to \beta|]_v=1 \stackrel{def}{\Leftrightarrow}
    \] 
    Quest'ultima è la definizione di conseguenza logica:
    \[
    \Gamma \models \alpha \to \beta
    \] 
\end{exercise}
\begin{exercise}[a casa]
	\[
		\phi \models \psi \vee \phi
	\]
\end{exercise}
\begin{exercise}[a casa]
	Risolvi con tavole di verità:
	\[
		\models(p \to (q \to r)) \to ((p \to q) \to (p \to r))
	\]
	\begin{center}
		\begin{tabular}{c|c|c|c|c|c}
			\( p\;q\;r \) & \( q \to r \) & \( p \to q \) & \( p \to r \) & \( p \to (q \to r) \) & \( (p \to q) \to (p \to r) \) \\
			\hline
			0\; 0\; 0     & 1             & 1             & 1             & 0                     & 1                             \\
			0\; 0\; 1     & 0             & 1             & 0             & 1                     & 1                             \\
			0\; 1\; 0     & 1             & 0             & 1             & 0                     & 0                             \\
			0\; 1\; 1     & 1             & 0             & 0             & 0                     & 1                             \\
			1\; 0\; 0     & 1             & 1             & 1             & 1                     & 1                             \\
			1\; 0\; 1     & 0             & 1             & 1             & 1                     & 1                             \\
			1\; 1\; 0     & 1             & 1             & 1             & 1                     & 1                             \\
			1\; 1\; 1     & 1             & 1             & 1             & 1                     & 1                             \\
		\end{tabular}
		\begin{tabular}{c}
			\((p \to (q \to r)) \to ((p \to q) \to (p \to r))\) \\
			\hline
			\( 0 \)                                             \\
			\( 1 \)                                             \\
			\( 1 \)                                             \\
			\( 0 \)                                             \\
			\( 1 \)                                             \\
			\( 1 \)                                             \\
			\( 1 \)                                             \\
			\( 1 \)
		\end{tabular}
	\end{center}
	La valutazione sulla formula finale non è sempre vera, quindi la formula non è una tautologia.
\end{exercise}

\begin{exercise}
	\[
		\Gamma, \alpha, \beta \models \alpha \wedge \beta
	\]
	Prendiamo una \( v \) generica
	\[
		\forall v. ([|\Gamma, \alpha, \beta|]_v=1 \Rightarrow [|\alpha \wedge \beta|]_v=1)
	\]
	\[
		([|\Gamma|]_v=1\; \&\; [|\alpha|]_v=1\; \&\; [|\beta|]_v=1) \Rightarrow
	\]
	\[
		([|\Gamma|]_v=1\; \&\; [|(\alpha \wedge \beta)|]_v=1) \Rightarrow [|\alpha \wedge \beta|]_v=1
	\]
\end{exercise}


\section{Convenzioni}
\subsection{Rimozione della parentesi nella sintassi}
Le parentesi possono essere omesse per rendere più leggibile la formula senza cambiare
la sintassi.
\begin{enumerate}
    \item Omettiamo, quando possibile (ovvero quando non c'è ambiguità sintattica),
        alcune parentesi: \( (\alpha \to \beta) \Rightarrow \alpha \to \beta \) 
        \item Per ripristinare le parentesi servono precedenze tra i connettivi.
            \begin{itemize}
                \item \( \neg \) ha la precedenza più alta
                    \item Dopo la negazione vengono: \( \wedge \) e \( \vee \):
                        \[
                        \alpha \vee \beta \wedge \gamma
                        \] 
                        \[
                            (\alpha \vee \beta) \wedge \gamma \neq \alpha \vee (\beta \wedge \gamma)
                        \] 
                Bisogna quindi specificare la struttura della formula quando si usano \( \vee \) e \( \wedge \).
                \item Poi viene \( \to  \), che associa a destra, cioè:
                    \[
                    \alpha_1 \to \alpha_2 \to \alpha_3 == \alpha_1 \to (\alpha_2 \to \alpha_3)
                    \] 
            \end{itemize}
\end{enumerate}

\subsubsection{Esempi}
\[
\gamma \to  \neg \alpha \vee \beta 
\] 
Diventa:
\[
\gamma \to (\neg \alpha) \vee \beta
\] 
Diventa:
\[
\gamma \to ((\neg \alpha) \vee \beta)
\] 
Diventa:
\[
(\gamma \to ((\neg \alpha) \vee \beta))
\]


\section{Definizione di sostituzione}
\begin{definition}
   \[
       \phi \in PROP\;\; \phi[\psi/p]\;\; \psi \in PROP\;\;
   \]  
   \( p \) è un simbolo proposizionale che \textbf{occorre}\footnote{L' \textbf{occorrenza} è il numero di volte
   in cui appare una formula:
\[
   \phi=((p_1 \to (p_5 \vee p_1))\wedge p_3)
\] 
Per osservare le occorrenze scrivo il simbolo + la posizione in cui appare (il numero del carattere ad esempio):
\[
    (p_1, 2), (p_1, 7)
\]
Quindi se si vuole sostituire \( p_1 \): \[ \phi[\psi/p_1] = ((\psi \to (p_5 \vee \psi))\wedge p_3)) \]
} in \( \phi \)
\begin{itemize}
    \item \( \phi[\psi/p] = \bot\;\; se\; \phi = \bot \)
    \item \( \phi[\psi/p] = \phi\;\; se\;\phi \in AT\; e\; \phi \neq p \) (non c'è la p, quindi non sostituisco niente)
    \item \( \phi[\psi/p] = \psi\;\; \phi = p \) 
    \item \( (\neg \phi)[\psi/p] =  \neg (\phi[\psi/p])\) 
    \item \( (\phi_1 \circ \phi_2)[\psi/p]=(\phi_1[\psi/p] \circ \phi_2[\psi/p]) \)  \(\;\; \circ \in  \{ \wedge, \vee, \to  \} \) 
\end{itemize}
\end{definition}

\section{Connettivi derivati}
Deriviamo \( \leftrightarrow \) che finora abbiamo usato semanticamente come \( \Leftrightarrow \) 
\[
\alpha \leftrightarrow \beta = (\alpha \to \beta) \wedge (\beta \to \alpha)
\] 
\begin{theorem}
    Due formule equivalenti si comportano nello stesso modo davanti alla sostituzione:
    \[
    se\; \models \phi_1 \leftrightarrow \phi_2 = (\models (\phi_1 \to \phi_2) \wedge (\models (\phi_2 \to \phi_1))
    \] 
    allora
    \[
        \models \psi[\phi_1/p] \leftrightarrow \psi[\phi_2/p]
    \].
\end{theorem}
\[
    \models \alpha \leftrightarrow \beta
\] Vuol dire che
\[
    \alpha \approx \beta
\] 
\begin{exercise}[a casa]
    (basta fare l'unfolding di \( \leftrightarrow \))
    Lemma che va a sancire la semantica del se e solo se
    \[
        [|\phi \leftrightarrow \psi|]_v=1 \Leftrightarrow [|\phi|]_v=[|\psi|]_v
    \] 
    La semantica di \( \leftrightarrow \) è vera quando entrambi gli elementi sono uguali. 
    \[
        [|\phi \to \psi|]_v=1 \& [|\psi \to \phi|]_v \Leftrightarrow
    \] 
    \[
        ([|\phi|]_v=0\; or\; [|\psi|]_v=1)\; \&\; ([|\psi|]_v=0\; or\; [|\phi|]_v=1) 
    \] 
    Vero quando \( \phi \) e \( \psi \) valutano allo stesso valore.
\end{exercise}

\section{Relazione di equivalenza}
Una relazione è di equivalenza quando si impongono delle proprietà.
\begin{enumerate}
    \item \( \forall x \in A\;\;\; xRx \) (riflessività)
    \item \( \forall a,b,c \in A\;\;\; (aRb\;\&\;bRc) \) (transitività)
    \item \( \forall a,b \in A\;\;\; aRb  \Rightarrow bRa \) (simmetria)
\end{enumerate}
\[
A\;\;\;\; R \subseteq A \times A
\] 
R è detta relazione di equivalenza sse: \( (x,y) \in R \), si può scrivere anche \( xRy \)  
\[
\approx \; \subseteq PROP \times PROP
\] 
\[
    \phi\;\approx\;\psi \stackrel{def}{\Leftrightarrow} \models \phi \leftrightarrow \psi
\] 
\begin{theorem}
    Si può dimostrare che \( \approx \) è una relazione di equivalenza
    \begin{enumerate}
        \item \textbf{Riflessività}: \[
                \forall \phi \in PROP \;\;\; \phi\; \approx \; \phi \] 
            \[
                \models \phi \leftrightarrow \phi \Leftrightarrow \forall v.\; [|(\phi \to \phi) \wedge (\phi \to \phi)|]_v = 1
            \]\[
            \Leftrightarrow \forall v.\; [|\phi \to \phi|]_v = 1 \Leftrightarrow
            \]  
            \[
                \forall v.\; ([|\phi|]_v=0\; or\; [|\phi|]_v=1)
            \] 
       \item \textbf{Simmetria}: \[
       \forall \phi,\psi \in  PROP\;\;\; \phi \approx \psi \Rightarrow \psi \approx \phi
       \] 
       Presa una \( v \) generica:
       \[
           [|\phi \leftrightarrow \psi|]_v = 1 \Leftrightarrow [|(\phi \to \psi) \wedge (\psi \to \phi|)]_v=1 \Leftrightarrow 
       \] 
       \[
           [|(\phi \to  \psi)|]_v=1\; \&\; [|\psi \to \phi|]_v=1 \Leftrightarrow
       \] 
        \[
        [|(\psi \to \phi) \wedge (\phi \to \psi)|]_v=1 \Leftrightarrow \psi\; \approx\; \phi
        \] 

        \item \textbf{Transitività}: \[
                \forall \phi,\psi,\gamma ((\phi\; \approx\; \psi\; \& \psi\; \approx\; \gamma) \to (\phi\; \approx\; \gamma)) 
        \] 
        \[
            \forall v. [|\phi \leftrightarrow \psi|]_v=1 \;\&\; [|\psi \leftrightarrow \gamma|]_v=1 \Rightarrow [|\phi \to \gamma|]_v=1
        \] 
        Il risultato segue dal lemma: \( [|\alpha \leftrightarrow \beta|]_v=1 \Leftrightarrow [|\alpha|]_v=[|\beta|]_v \) 
        
        A casa applica il lemma.
    \end{enumerate}
\end{theorem}

\section{Tautologie notevoli}
\begin{enumerate}
    \item \( \models \neg (\phi \wedge \psi) \leftrightarrow (\neg \phi \vee \neg \psi) \) Prima legge di \textbf{De Morgan}
    \item \( \models \neg (\phi \vee \psi) \leftrightarrow (\neg \phi \wedge \neg \psi) \) Seconda legge di \textbf{De Morgan}
    \item \( \models \phi \leftrightarrow \neg \neg \phi \) Negazione involutiva
    \item \( \models (\phi \wedge \psi) \leftrightarrow (\psi \wedge \phi) \)  Commutatività
    \item \( \models (\phi \vee \psi) \leftrightarrow (\psi \vee \phi) \) Commutatività
    \item \( \models \phi \wedge (\psi \vee \gamma) \leftrightarrow ((\phi \wedge \psi) \vee (\phi \wedge \gamma)) \) Distributività
    \item \( \models \phi \vee (\psi \wedge \gamma) \leftrightarrow ((\phi \vee \psi) \wedge (\phi \vee \gamma)) \) Distributività
    \item \( \models \phi \vee (\psi \vee \gamma) \leftrightarrow (\phi \vee \psi) \vee \gamma \) Associatività per AND
    \item \( \models \phi \wedge (\psi \wedge \gamma) \leftrightarrow (\phi \wedge \psi) \wedge \gamma \) Associatività per OR
\end{enumerate}

\begin{exercise}
    Dimostrazione della seconda legge di De Morgan:
    \[
    \models \neg (\phi \vee \psi) \to (\neg \phi \wedge \neg \psi)
    \] 
    \[
        \forall v.\; [|\neg(\phi \vee \psi) \to (\neg \phi \wedge \neg \psi)|]_v=1 \Leftrightarrow
    \] 
    \[
        ([|\neg (\phi \vee \psi)|]_v=0\; or\; [|\neg \phi \wedge \neg \psi|]_v=1) \Leftrightarrow
    \] 
    \[
        ([|\phi \vee \psi|]_v = 1 \;or\; ([|\neg \phi]_v=1\; \&\; [|\neg \psi|]_v=1)) \Leftrightarrow
    \] 
    \[
        ([|\phi|]_v=1\;or\;[|\psi|]_v=1\;or\;( [|\phi|]_v=0\; \&\; [|\psi|]_v=0)) \Leftrightarrow
    \] 
    Tutti i casi \( \Rightarrow \) OK \( \square \)  
\end{exercise}

\begin{figure}[H]
    \begin{exercise}
        \[
            \models \neg (\phi \vee \psi) \leftrightarrow (\neg \phi \wedge \neg \psi)
        \] 
        \[
            \forall v.\; [|\neg (\phi \vee \psi)|]_v=1 \Leftrightarrow
        \] 
        \[
            [|(\phi \vee \psi)|]_v=0 \Leftrightarrow
        \] 
        \[
            [|\phi|]_v=0\; \&\; [|\psi|]_v=0 \Leftrightarrow
        \] 
        \[
            [|\neg \phi|]_v=1 \; \&\; [|\neg \psi|]_v=1 \Leftrightarrow
        \] 
        \[
            [|(\neg \phi \wedge \neg \psi)|]_v=1
        \] 
    \end{exercise}
\end{figure}
\begin{exercise}
    Modulus Ponens
    \[
        (\underbrace{\Gamma \models \alpha \to \beta}_{1}\;\;\&\;\; \underbrace{\Gamma \models \alpha}_{2}) \Rightarrow \Gamma \models \beta
    \] 
    Per la definizione di conseguenza logica:
    \begin{enumerate}
        \item \[
                \forall v.\; ([|\Gamma|]_v=1 \Rightarrow [|\alpha \to \beta|]_v=1) \;\&
        \] 
        \item \[
                \forall v.\; ([|\Gamma|]_v=1 \Rightarrow [|\gamma|]_v=1)
        \] 
    \item[1.] \[
            \Leftrightarrow \forall v.\; ([|\Gamma|]_v=1 \Rightarrow ([|\alpha|]_v=1 \Rightarrow [|\beta|]_v=1)) \Leftrightarrow
    \] 
    \end{enumerate}
    \begin{define}
        \[
        a \Rightarrow b \Rightarrow c
        \] 
        È uguale a dire:
        \[
            (a \wedge b) \Rightarrow c
        \] 
    \end{define}
    \begin{enumerate}
        \item 
        \[
            \forall v.\; ([|\Gamma|]_v=1\;\&\;[|\alpha|]_v=1) \Rightarrow [|\beta|]_v=1 \Leftrightarrow
        \] 
    \item[1.]\[
            \forall v.\; ([|\Gamma|]_v \neq 1\; or\; [|\alpha|]_v=0)\; or\; [|\beta|]_v=1 \Leftrightarrow
    \] 
\item[2.]\[
        \forall v.\; ([|\Gamma|]_v=1 \Rightarrow [|\gamma|]_v = 1) \Leftrightarrow
\]
\item[2.]
\[
   \forall v.\; ([|\Gamma|]_v \neq 1\; or\; [|\gamma|]_v=1)  
\] 
    \end{enumerate}
    Si mettono insieme \(\forall v.\; 1\; \&\; 2 \) 
    \[
        \forall v.\; ([|\Gamma|]_v \neq 1\; or\; [|\alpha|]_v=1)\; \&\; ([|\Gamma|]_v \neq 1\; or\; [|\gamma|]_v=0\; or\; [|\beta|]_v=1)
    \] 
    \[
        \forall v.([|\Gamma|]_v \neq 1\; or\; [|\beta|]_v=1)])
    \]
    È la definizione di conseguenza logica (\( \neg \alpha \vee \beta \) ), quindi:
    \[
        \forall v. \;[|\Gamma|]_v=1 \Rightarrow [|\beta|]_v=1
    \] 
    \[
    \Gamma \models \beta
    \] 
    \[
    \square
    \]  
\end{exercise}



\section{RAA (Reductio ad absurdum)}
È un principio di tecnica di dimostrazione, cioè quella per assurdo.
\[
\Gamma, \neg \alpha \models \bot \Rightarrow \Gamma \models \alpha
\] 
Prendiamo un insieme generico \( \Delta \) 
\[
    \Delta \models \neg \;\;\;\;\;\;\; [|\neg|]_v=0
\] 
\[
    \forall v.\; [|\Delta|]_v=1 \Rightarrow [|\bot|]_v=1 \Leftrightarrow
\] 
\[
    \underbrace{[|\Delta|]_v \neq 1}_{\forall v.\; \exists \gamma \in \Delta\; t.c.\; [|\gamma|]_v=0}\; or\; \underbrace{[|\bot|]_v=1}_{ \times }
\] 
Se un insieme è falso, vuol dire che è insoddisfacibile:
\[
\Delta \models \bot
\] 
\( \Delta \) è insoddisfacibile
\[
    Se\; \Gamma \cup \{ \neg \alpha \}\; insoddisfacibile\; allora\; \Gamma \models \alpha
\] 
\begin{definition}
    Si può interpretare la negazione di una formula nel seguente modo:
    \[
        \neg \alpha \stackrel{def}{\Leftrightarrow} \alpha \to \bot
    \] 
\end{definition}

\[
(*):\; \Gamma, \alpha \models \beta \Rightarrow \Gamma \models \alpha \to \beta
\] 
\[
    \Gamma, \neg \alpha \models \bot \stackrel{(*)}{\Rightarrow} \Gamma \models \neg \alpha \to \bot
\] 
Per definizione di negazione:
\[
    \underbrace{ \underbrace{(\alpha \to \bot)}_{\neg \alpha} \to \bot}_{\neg \neg \alpha}
\] 
Quindi:
\[
\Gamma \models \neg \neg \alpha
\] 
Per la definizione di conseguenza logica:
\[
    \forall v.\; ([|\Gamma|]_v=1 \Rightarrow [|\neg \neg \alpha|]_v=1)
\] 
\[
    [|\neg \neg \alpha|]_v=[|\alpha|]_v
\] 
\[
    \forall v.\; (\underbrace{[|\Gamma|]_v=1 \Rightarrow [|\alpha|]_v=1}_{\Gamma \models \alpha\;\;(modus\;ponens)})
\] 



\section{Formalizzazione della deduzione}
Il simbolo che si utilizza è: \( \Gamma \vdash \alpha\) e vuol dire che da
\( \Gamma \) si deduce \( \alpha \).

\begin{definition}
    \begin{itemize}
         \item \textbf{Dedurre}: vuol dire riuscire a dimostrare qualcosa partendo da un insieme di ipotesi.
         \item \textbf{Ipotesi}: ciò che assumo essere vero   
         \item \textbf{Tesi}: ciò che voglio dimostrare a partire dalle ipotesi
    \end{itemize}
\end{definition}
Si ha quindi un \textbf{sistema deduttivo} formato da \textbf{regole logiche} che
trasformano le formule in altre formule.

\section{Deduzione naturale}
È una deduzione che si basa su regole logiche che applichiamo naturalmente.

La struttura della deduzione naturale è la seguente:
\[
    \underbrace{\stackrel{ipotesi}{\underset{tesi}{D}}}_{dimostrazione/derivazione}
\] 
È un concetto generico in matematica e nel linguaggio formale.
\[
\Gamma, \neg, \alpha \models \bot \Rightarrow \Gamma \models \alpha
\] 
Introduciamo il sistema di \textbf{deduzinoe naturale}:

Prendiamo un sottosistema di connettivi:
\[
    \{ \to, \wedge, \stackrel{\neg}{\bot}\} 
\] 
Si usano \( D \), \( \pi \), \( D_1 \ldots \overline{D} \) per indicare una dimostrazione
generica.
\[
    \underset{\alpha}{D}\;\;\; \underset{\beta}{D}
\] 
Le lettere sotto la \( D \) sono \textbf{fatti dimostrati}.\\
Per indicare l'insieme delle ipotesi usate nella dimostrazione \( D \) si usa: 
\[
hp(D)
\] 
\begin{figure}[H]
    \begin{definition}
        Quando una formula sola viene usata come ipotesi è anche tesi (se la assumo, vuol dire che è vera).
        È anche la più piccola dimostrazione possibile.
    \end{definition}
\end{figure}

Per ciascun connettivo si hanno 2 regole:
\begin{enumerate}
    \item Regola di \textbf{eliminazione}
    \item Regola di \textbf{introduzione}
\end{enumerate}

\subsection{Regole dell'implicazione}
\subsubsection{Eliminazione }
Si utilizza il metoo Modus Ponens\footnote{\( [|\alpha|]_v=1\;\; (\alpha \to \beta) \models \beta \) }
\begin{center}
    \(
        \underset{\alpha}{D_1}\;\;\; \underset{\alpha \to \beta}{D_2}
    \)\\ 
    \hspace{1cm}\line(1,0){70}\(\;\;\; \to E \)\\
    \(
        \beta
    \) 
\end{center}

\subsubsection{Introduzione}
 
La seguente notazione \( \overline{D} \) vuol dire che tra le ipotesi \emph{potrebbe} esserci \( \alpha \):
\[
    \underset{\beta}{\stackrel{\alpha}{D}}
\] 
\begin{center}
    \(
    \underset{\beta}{\stackrel{[\alpha]^*}{D}}
    \)\\ 
    \hspace{1cm}\line(1,0){40}\(\;\;\; \to I^* \)\\
    \(
        \alpha \to \beta
    \) 
\end{center}
Le parentesi quadre indicano che abbiamo utilizzato \( \alpha \), ed è quindi "\textbf{scaricata}",
cioè visto che è già stata utilizzata non fa più parte delle ipotesi. L'asterisco, invece è un indice
che mostra su quale ipotesi è stata applicata la regola.
\[
    hp(\overline{D})=hp(D) / \{\alpha\} 
\] 

\begin{figure}[H]
    \begin{example}
        Quando scarico \( \alpha \) devo scaricare tutte le occorrenze 
        \[
            \stackrel{\underline{\alpha},\beta,\delta,\underline{\alpha} \ldots}{\underset{\gamma}{D}}
        \] 
    \end{example}
\end{figure}

\subsubsection{Indebolimento}
        La seguente dimostrazione è accettata anche se \( \alpha \) è stata scaricata.
        \begin{center}
            \(\stackrel{[\alpha]}{D}\)\\
            \hspace{1cm}\line(1,0){40}\(\;\;\; \to I \)\\
            \( \alpha \to \beta \) 
        \end{center}
        Questa dimostrazione prende il nome di \textbf{indebolimento}. "Lego" la verità di \( \alpha \) 
        a quella di \( \beta \) anche se non avevo \( \alpha \).

        Ad esempio:
        \[
            [|\beta|]_v=1 \Rightarrow \underbrace{[|\alpha \to \beta|]_v}_{[|\alpha|]_v=0\;or\;[|\beta|]_v=1}=1
        \] 

La struttura di una derivazione è la seguente:
\begin{itemize}
    \item \( \alpha,\beta, \ldots \) 
    \item compongo \( D_1, \ldots, D_k \) attraverso le regole \( (\to E, \to I) \) 
    \item nient'altro è derivazione
\end{itemize}

\subsubsection{Esercizi}
\begin{exercise}
    \[
        \vdash \alpha \to \alpha \;\;\; \vdash\; = \text{derivabilità}
    \] 
    \begin{center}
        \(
        [a]^1
        \)\\
        \hspace{1cm}\line(1,0){50}\(\;\;\; \to I^1 \)\\  
        \(
            \alpha \to \alpha
        \) 
    \end{center}
\( \alpha \) è sia ipotesi che conclusione di \( D \) 
\end{exercise}
\begin{figure}[H]
    \begin{exercise}
        \[
            \vdash \alpha \to (\beta \to \alpha)
        \] 
        \begin{center}
            \(
            [\alpha]^1
            \)\\
            \hspace{3.6cm}\line(1,0){30}\(\;\;\; \to I\;\; (indebolimento) \)\\  
             \( \beta \to \alpha \) \\
            \hspace{1cm}\line(1,0){50}\(\;\;\; \to I^1 \)\\  
            \(
            \alpha \to (\beta \to \alpha)
            \)
        \end{center}
        Alla fine della derivazione tutte le ipotesi devono essere scaricate
    \end{exercise}
\end{figure}
\begin{exercise}[hard]
    \[
    \vdash (\alpha \to (\beta \to \gamma)) \to ((\alpha \to \beta) \to (\alpha \to \gamma))
    \] 
    \begin{center}
        \( [\alpha]^1\;\;\; [\alpha \to (\beta \to \gamma)]^3 \) \hspace{2.5cm} \([(\alpha \to \beta)]^2\;\;\; [\alpha]^1 \)\\
       \hspace{1cm}\line(1,0){90}\(\;\;\; \to E \) \hspace{1cm}\line(1,0){70}\(\;\;\; \to E \)\\
       \( \beta \to \gamma \) \hspace{3.5cm} \( \beta \)\\
        \hspace{1cm}\line(1,0){200}\( \;\;\; \to E \)\\
        \( \gamma \) \\
        \hspace{1cm}\line(1,0){30}\(\;\;\; \to I^1 \)\\
         \( \alpha \to  \gamma \) \\
         \hspace{1cm}\line(1,0){50}\(\;\;\; \to I^2 \)\\
         \( (\alpha \to \beta) \to (\alpha \to \gamma) \) \\
         \hspace{1cm}\line(1,0){200}\(\;\;\; \to I^3 \)\\
         \( (\alpha \to (\beta \to \gamma)) \to ((\alpha \to \beta) \to (\alpha \to \gamma)) \) 
    \end{center}
\end{exercise}

\begin{definition}
    \[
        \vdash \alpha
    \] 
    \( \alpha \) è un teorema se esiste una derivazione \( D \)
    tale che: \[ \underbrace{hp(D) = \emptyset}_{\text{cancellate tutte
    le ipotesi nel proc. deduttivo}} \] 
\end{definition}

\subsection{Regole dell'AND}
\subsubsection{Introduzione}
      \begin{center}
    \(
        \underset{\alpha}{D_1}\;\;\; \underset{\beta}{D_2}
    \)\\ 
        \hspace{0.6cm}\line(1,0){50}\(\;\;\; \wedge I \)\\  
    \(
        \alpha \wedge \beta
    \)
\end{center}

\subsubsection{Eliminazione a destra}
\begin{center}
        \(
            \underset{\alpha \wedge \beta}{D}
        \)\\ 
            \hspace{1cm}\line(1,0){30}\(\;\;\; \wedge E_1 \)\\  
        \(
            \alpha
        \)
\end{center}

\subsubsection{Eliminazione a sinistra}
\begin{center}
        \(
            \underset{\alpha \wedge \beta}{D}
        \)\\ 
            \hspace{1cm}\line(1,0){30}\(\;\;\; \wedge E_2 \)\\  
        \(
            \beta
        \)
\end{center}

\subsubsection{Esercizi}

\begin{figure}[H]
    \begin{exercise}
        \[
            \vdash \alpha \to \alpha \wedge \alpha
        \] 
        \begin{center}
            \(
            [\alpha]^1 \;\;\;\;\;\; [\alpha]^1
            \)\\ 
            \hspace{0.8cm}\line(1,0){70}\(\;\;\; \wedge I \)\\
            \(
            \alpha \wedge \alpha
            \)\\
            \hspace{1.2cm}\line(1,0){70}\(\;\;\; \to I^1 \)\\
            \( \alpha \to (\alpha \wedge \alpha) \) 
        \end{center}
    \end{exercise}
\end{figure}

\begin{exercise}
    \[
    \vdash \alpha \to \beta \to (\alpha \wedge \beta)
    \] 
    \begin{center}
        \( [\alpha]^2\;\;\;\;\;\;\; [\beta]^1 \) \\
                    \hspace{0.6cm}\line(1,0){60}\(\;\;\; \wedge I \)\\
        \( \alpha \wedge \beta \) \\
                    \hspace{1cm}\line(1,0){80}\(\;\;\; \to I^1 \)\\
         \( \beta \to (\alpha \wedge \beta) \) \\
                     \hspace{1cm}\line(1,0){80}\(\;\;\; \to I^2 \)\\
         \( \alpha \to  \beta \to  (\alpha \wedge \beta) \) 
    \end{center}
\end{exercise}

\begin{figure}[H]
    \begin{exercise}[a casa]
        \[
            \vdash (\phi \to \psi) \to \neg (\phi \wedge \neg \psi)
        \] 
        \[
            (\phi \to \psi) \to ((\phi \wedge (\psi \to \bot)) \to \bot)
        \] 
        \begin{center}
            \hspace{-8cm}\( [(\phi \wedge (\psi \to \bot))]^2 \) \\
            \hspace{-7cm}\line(1,0){80}\(\;\;\; \wedge E_1 \) \hspace{4cm}\\
            \hspace{1cm}\( \phi \hspace{2.6cm}[(\phi \to \psi)]^1 \hspace{1cm} \hspace{1cm} [(\phi \wedge (\psi \to \bot))]^2\) \\
            \hspace{0.7cm}\line(1,0){150}\(\;\;\; \to E \) \hspace{0.8cm}\line(1,0){70}\(\;\;\; \wedge E_2 \)\\
            \hspace{2cm}\( \psi \hspace{5cm} \psi \to \bot\)\\ 
            \hspace{1cm}\line(1,0){250}\(\;\;\; \to E\)\\
            \( \bot \) \\
            \hspace{1cm}\line(1,0){100}\(\;\;\; \to I^2 \)\\
            \( ((\phi \wedge (\psi \to \bot)) \to \bot) \) \\
            \hspace{1cm}\line(1,0){160}\(\;\;\; \to I^1 \)\\
            \( (\phi \to \psi) \to ((\phi \wedge (\psi \to \bot)) \to \bot) \)
        \end{center}
    \end{exercise}
\end{figure}

\begin{figure}[H]
    \begin{example}
        \[
            \vdash \alpha \to \neg \neg \alpha 
        \] 
        è equivalente a:
        \[
            \vdash \alpha \to ((\alpha \to \neg) \to \neg)
        \] 
        \begin{center}
            \( [\alpha]^2 \;\;\;\;\;\;\; [\alpha \to  \bot]^1 \) \\
            \hspace{1cm}\line(1,0){80}\(\;\;\; \to E\)\\
            \( \bot\) \\
            \hspace{1cm}\line(1,0){80}\(\;\;\; \to I^1 \)\\
            \( (\alpha \to \bot) \to \bot\) \\
            \hspace{1cm}\line(1,0){95}\(\;\;\; \to I^2 \)\\
            \( \alpha \to ((\alpha \to \neg) \to \bot) \) \\
            \( \alpha \to \neg \neg \alpha \) 
        \end{center}
    \end{example}
\end{figure}

\subsection{Regole del Bottom}
\subsubsection{Ex falso}
\begin{center}
    \(
        \underset{\bot}{D}
    \)\\ 
        \hspace{0.8cm}\line(1,0){20}\(\;\;\; \bot I \)\\  
    \(
        \alpha
    \)
\end{center}
Si può aggiungere qualsiasi formula dal bottom utilizzando questa regola. (Dimostrazione per assurdo)

\vspace{0.5cm}
\textbf{Dimostrazione per assurdo:}\\
Voglio dimostrare P:
\begin{enumerate}
    \item assumo P sia falso
    \item se da 1. arrivo a una contraddizione allora P è vero
\end{enumerate}
\subsubsection{Riduzione ad assurdo}
\begin{center}
    \(
    [\neg \alpha]^* 
    \)\\ 
    \( \ldots \) \\
    \( \bot \) \\
        \hspace{1.2cm}\line(1,0){30}\(\;\;\; RAA^* \)\\  
    \(
        \alpha
    \)
\end{center}


\subsubsection{Esercizi}

\begin{example}
    \[
        \vdash \neg \neg \alpha \to \alpha
    \] 
        \begin{center}
            \( [\neg \neg \alpha]^2 \;\;\;\;\;\;\; [\neg \alpha]^1\) \\
     \hspace{1cm}\line(1,0){80}\(\;\;\; \to E\)\\
        \( \bot\) \\
         \hspace{1.2cm}\line(1,0){20}\(\;\;\; RAA^1  \)\\
        \( \alpha\) \\
         \hspace{1cm}\line(1,0){60}\(\;\;\; \to I^2\)\\
        \( \neg \neg \alpha \to \alpha\) \\
    \end{center}
\end{example}
La riduzione ad assurdo è equivalente a:
\begin{center}
          \( \ldots \)\\ 
        \hspace{0.8cm}\line(1,0){40}\(\;\;\; \bot I \)\\  
        \( \alpha \vee \neg \alpha \) 
\end{center} 
per la regola del \textbf{terzo escluso} (tertium non datur)

\begin{example}
    Derivazione del terzo escluso

            \begin{center}
                \hspace{0cm}\( [\alpha]^1 \) \hspace{2.8cm} \line(1,0){0} \\
                \hspace{0cm}\line(1,0){50}\(\;\;\; \vee I_1 \) \hspace{2cm} \line(1,0){0}\\
            \( (\alpha \vee \neg \alpha) \hspace{1cm} [\neg(\alpha \vee \neg \alpha)]^2 \) \\
            \hspace{0.9cm}\line(1,0){150}\(\;\;\; \to E \)\\  
            \( \bot \) \\ 
            \hspace{0.9cm}\line(1,0){30}\(\;\;\; \to I^1 \)\\  
            \( \neg \alpha \)\\
            \hspace{0.9cm}\line(1,0){110}\(\;\;\; \vee I^1 \)\\  
            \( \alpha \vee \neg \alpha \hspace{0.5cm} [\neg (\alpha \vee \neg \alpha)]^2 \) \\
            \hspace{0.9cm}\line(1,0){110}\(\;\;\; \to E \)\\  
            \( \bot \) \\
            \hspace{0.9cm}\line(1,0){50}\(\;\;\; RAA^2  \)\\  
            \( \alpha \vee \neg \alpha \) 
        \end{center}
\end{example}


\subsection{Regole dell'OR}
\subsubsection{Introduzione a destra}
\begin{center}
    \( \underset{\alpha}{D} \) \\
    \hspace{0.9cm}\line(1,0){40}\(\;\;\; \vee I_1 \)\\  
    \( \alpha \vee \beta \)
\end{center}
\subsubsection{Introduzione a sinistra}
\begin{center}
    \( \underset{\alpha}{D} \) \\
    \hspace{0.9cm}\line(1,0){40}\(\;\;\; \vee I_2 \)\\  
    \( \beta \vee \alpha \)
\end{center}


\subsubsection{Esercizi}
\begin{exercise}
    \[
    \vdash \alpha \to \alpha \vee \beta
    \] 
    \begin{center}
        \( [\alpha]^1 \)\\
    \hspace{0.9cm}\line(1,0){40}\(\;\;\; \vee I_1 \)\\  
    \( \alpha \vee \beta \) \\
    \hspace{1cm}\line(1,0){60}\(\;\;\; \to I^1 \)\\  
      \( \alpha \to \alpha \vee \beta \) 
    \end{center}
\end{exercise}

\begin{exercise}[a casa]
    \[
        \vdash (\alpha \vee \beta) \to (\alpha \vee \beta) \vee \gamma
    \] 
    \begin{center}
        \( [(\alpha \vee \beta)]^1 \) \\
        \hspace{0.7cm}\line(1,0){60}\(\;\;\; \vee I_2  \)\\
          \( (\alpha \vee \beta) \vee \gamma \) \\
        \hspace{1cm}\line(1,0){100}\(\;\;\; \to I^1  \)\\
        \( (\alpha \vee \beta) \to (\alpha \vee \beta) \vee \gamma \) 
    \end{center}
\end{exercise}

\subsubsection{Eliminazione}
\begin{center}
    \( \underset{\alpha \vee \beta}{D} \hspace{0.5cm} \stackrel{[\alpha]^*}{\underset{\gamma}{D}} \hspace{0.5cm} \stackrel{[\beta]^*}{\underset{\gamma}{D}} \)\\
    \hspace{0.9cm}\line(1,0){90}\(\;\;\; \vee E^* \)\\  
    \( \beta \vee \alpha \)
\end{center}
Si implementa alla regola il \textbf{ragionamento per casi}
\begin{enumerate}
    \item \( P \Rightarrow R \) 
    \item \( Q \Rightarrow R \) 
    \item 1. + 2. (se riesco a provare entrambi i casi) \( P\;or\;Q \Rightarrow R \) 
\end{enumerate}
\begin{example}
    \[
        \Gamma,\alpha \models \gamma\;\;\; \&\;\;\; \Delta,\beta \models \gamma\;\;\; \&\;\;\; E \models \alpha \vee \beta
    \]
    \[
    \Rightarrow \Gamma,\Delta,E \models \gamma
    \] 
\end{example}
\begin{example}
    \[
    E = \{\alpha \vee \beta\} 
    \] 
    \[
        \Gamma,\alpha \models \gamma\;\;\; \&\;\;\; \Delta,\beta \models \gamma\;\;\; \& \;\;\; \alpha \vee \beta \models \alpha \vee \beta
    \] 
    \[
    \Rightarrow \Gamma,\Delta,\alpha \vee \beta \models \gamma
    \] 
\end{example}

Semanticamente:
\[
    [|\alpha \vee \beta|]_v=1
\] 
ci si può chiedere cosa succede a livello di tautologie, è vero che?:
\[
\models \alpha \vee \beta \Rightarrow \models \alpha\;\;or\;\; \models \beta
\] 
non è vero. Perchè:
\[
    \models \alpha \vee \beta \stackrel{def}{\Leftrightarrow} \forall v.\; [|\alpha \vee \beta|]_v=1 \Leftrightarrow
\] 
\[
    \forall v.\; ([|\alpha|]_v=1 \; oppure\; [|\beta|]_v=1)
\] 
\[
\alpha = p \;\;\;\;\;\; \beta = \neg p
\] 
\[
\models p \vee \neg p \Leftrightarrow \forall v.\; (v(p) = 1 \; or\; v(p) = 0)\;\; \surd
\] 
\[
\models p \Leftrightarrow \forall v. \; v(p) = 1\;\; \times
\] 
\[
\models \neg p \Leftrightarrow \forall v. \; v(p) = 0\;\; \times
\] 
\begin{figure}[H]
    \begin{example}
        Per dimostrare \( \alpha \vee \beta \to \gamma \) devo trovare \( D_1 \) e \( D_2 \) e poi scaricare le
        assunzioni \( (\alpha \vee \beta) \).

        \begin{center}
            \( \underset{[\alpha \vee \beta]^1}{D} \hspace{0.5cm} \stackrel{[\alpha]^*}{\underset{\gamma}{D}} \hspace{0.5cm} \stackrel{[\beta]^*}{\underset{\gamma}{D}} \)\\
            \hspace{0.9cm}\line(1,0){90}\(\;\;\; \vee E^* \)\\  
            \( \beta \vee \alpha \)\\
            \hspace{0.9cm}\line(1,0){70}\(\;\;\; \to I^1 \)\\  
            \( (\alpha \vee \beta) \to \gamma \) 
        \end{center}
    \end{example}
\end{figure}

\begin{figure}[H]
    \begin{exercise}
        \[
            \vdash \alpha \vee \beta \to \beta \vee \alpha
        \] 
        \begin{center}
            \hspace{2.2cm}\( [\alpha]^1 \hspace{1.8cm} [\beta]^1 \) \\
            \hspace{3cm}\line(1,0){30}\(\;\;\; \vee I_2 \) \hspace{0.2cm}\line(1,0){30}\(\;\;\; \vee I_1 \)\\  
            \( [\alpha \vee \beta]^2 \hspace{1cm} \beta \vee \alpha \hspace{1.5cm} \beta \vee \alpha \) \\
            \hspace{0.9cm}\line(1,0){150}\(\;\;\; \vee E^1 \)\\  
            \( \beta \vee \alpha \)\\
            \hspace{0.9cm}\line(1,0){90}\(\;\;\; \to I^2 \)\\  
            \( (\alpha \vee \beta) \to (\beta \vee \alpha) \) 
        \end{center}

    \end{exercise}
\end{figure}

\begin{figure}[H]
    \begin{exercise}
                \[
            \vdash \alpha \vee \beta \to \alpha \vee (\beta \vee \gamma)
        \] 
        \begin{center}
            \( \hspace{5cm} [\beta]^1 \)\\ 
            \line(1,0){0}\hspace{6cm}\line(1,0){50}\(\;\;\; \vee I_1 \)\\
            \hspace{2.2cm}\( [\alpha]^1 \hspace{1.8cm} (\beta \vee \gamma) \) \\
            \hspace{3cm}\line(1,0){50}\(\;\;\; \vee I_1 \) \hspace{0.2cm}\line(1,0){50}\(\;\;\; \vee I_2 \)\\  
            \( [\alpha \vee \beta]^2 \hspace{0.5cm} \alpha \vee (\beta \vee \gamma) \hspace{1cm} \alpha \vee (\beta \vee \gamma) \) \\
            \hspace{0.9cm}\line(1,0){200}\(\;\;\; \vee E^1 \)\\  
            \( \alpha \vee (\beta \vee \gamma)\)\\
            \hspace{0.9cm}\line(1,0){110}\(\;\;\; \to I^2 \)\\  
            \( (\alpha \vee \beta) \to (\alpha \vee (\beta \vee \gamma)) \) 
        \end{center}
    \end{exercise}
\end{figure}

\subsection{Condizione di derivabilità}
\( \Gamma \) deriva \( \alpha \) e \( \alpha \) è derivabile da \( \Gamma \).
\[
\Gamma \vdash \alpha
\] 
\(
    \Gamma \vdash \alpha \stackrel{def}{sse}
    \) esiste una derivazione \(\underset{\alpha}{D}\) che si conclude con \( \alpha \) e
    tale che \( hp(D) \subseteq \Gamma \) 
    \subsubsection{Esercizi}
\begin{exercise}
    \[
    \Gamma \vdash \alpha \Rightarrow \Gamma,\beta \vdash \alpha
    \] 
    \[
        \exists \underset{\alpha}{D}\; e\; hp(D) \subseteq \Gamma \;\;\;\;\; \exists \underset{\alpha}{D^1} \; e \; hp(D) \subseteq \Gamma \cup \{\beta\} 
    \] 
    \[
    \Gamma \vdash \alpha \Rightarrow \Gamma, \Delta \vdash \alpha
    \] 
    La deduzione che esisteva prima continua ad esistere anche con il nuovo insieme delle ipotesi.
\end{exercise}
\begin{exercise}[a casa]
    \[
    \Gamma, \alpha \vdash \alpha
    \] 
\end{exercise}
\begin{exercise}
    \[
    \Gamma,\alpha \vdash \beta \Rightarrow \Gamma \vdash \alpha \to \beta
    \] 
\[
    \exists \underset{\beta}{D}\; t.c.\; hp(D)\;\; \subseteq \Gamma \cup \{\alpha\} \;\;\;\;\;\; \bar{\underset{\alpha \to \beta}{D}} 
\] 
\[
    \bar{D} \begin{cases}
        \hspace{2.5cm}[\alpha]\\
        \hspace{2.5cm}D\\
        \hspace{2.5cm}\beta\\
        \hspace{0.9cm}\line(1,0){90}\;\;\; \to I^2 \\  
        \hspace{2cm}\alpha \to \beta
    \end{cases}
\] 
\[
    hp(\bar{D} \subseteq \Gamma)
\] 
\end{exercise}
\begin{figure}[H]
    \begin{exercise}
        \[
            (\Gamma \vdash \alpha \to  \beta\;\; \&\;\; \Delta \vdash \alpha) \Rightarrow \Gamma,\Delta \vdash \beta
        \] 
        TODO
    \end{exercise}
\end{figure}
\begin{figure}[H]
    \begin{exercise}[a casa]
        \[
            (\Gamma \vdash \alpha\;\; \&\;\; \Delta, \alpha \vdash \beta) \Rightarrow \Gamma, \Delta \vdash \beta
        \] 
        Suggerimenti:
        \begin{itemize}
            \item svolgi i pezzi prima e dopo l'\&
            \item non abbiamo ipotesi sulla presenza di alpha nelle ipotesi
                \begin{itemize}
                    \item se \( \alpha \not\exists hp(D_2)  \) 
                    \item se \( \alpha\;\; \exists hp(D_2)  \) 
                \end{itemize}
        \end{itemize}

    \end{exercise}
\end{figure}

\section{Prove dirette e indirette}
\subsection{Prove indirette}
\( p \) è un simbolo proposizionale:
\[
    \vdash \alpha \leftrightarrow \beta \Rightarrow \phi[\alpha/p] \leftrightarrow \phi[\beta/p]
\] 
Dati i successivi 2 teoremi \textbf{già dimostrati}:
\[
    \begin{rcases}
        \vdash \neg \neg \neg \alpha \leftrightarrow \neg \alpha \\
        \vdash \alpha \vee (\neg \neg \neg \alpha)
    \end{rcases} \vdash \alpha \vee \neg \alpha
\] 
Si ottiene il terzo escluso facilmente.
Una formula si può ottenere componendo più formule già dimostrate.

Consideriamo le leggi di de Morgan:
\begin{enumerate}
    \item \( \vdash \neg(\alpha \wedge \beta) \leftrightarrow (\neg \alpha \vee \neg \beta) \) 
    \item \( \vdash \neg (\alpha \vee \beta) \leftrightarrow (\neg \alpha \wedge \beta) \) 
    \item \( \vdash \neg (\alpha \to \beta) \leftrightarrow (\alpha \wedge \neg \beta) \) 
\end{enumerate}
Proviamo a dimostrare indirettamente la seconda legge di de Morgan usando altri teoremi:
\begin{enumerate}
    \item[a.] \( \vdash \phi \leftrightarrow \psi \Rightarrow \sigma[\phi/p] \leftrightarrow \sigma[\psi/p] \) 
    \item[b.] (Ragionamento per contrapposizione) \( \vdash \phi \to \psi \Leftrightarrow \neg \psi \to \neg \phi\) 
    \item[c.] \( \phi \to \psi\; \& \; \vdash \psi \to \gamma \Rightarrow \phi \to \gamma \)
    \item[d.] \( \vdash \phi \leftrightarrow \neg \neg \phi \) 
\end{enumerate}
\begin{example}
   \[
   \vdash \neg (\alpha \vee \beta) \leftrightarrow (\neg \alpha \wedge \beta)
   \]  
   Assumo 1. e a. b. c. d.:
\[
    \vdash (\neg \alpha \vee \neg \beta) \leftrightarrow \neg (\alpha \vee \beta) \stackrel{b.}{\Leftrightarrow}
\] 
\[
    \vdash \neg \neg (\alpha \wedge \beta) \leftrightarrow \neg (\neg \alpha \vee \neg \beta) \stackrel{d, c}{\Leftrightarrow}
\] 
\[
 \vdash   (\alpha \wedge \beta) \leftrightarrow \neg (\neg \alpha \vee \neg \beta)
\] 
Istanzio le formule per togliere le negazioni:
\[
\alpha = \neg \phi
\] 
\[
\beta = \neg \psi
\] 
E la formula diventa:
\[
    \vdash (\neg \phi \wedge \neg \psi) \leftrightarrow \neg(\neg \neg \phi \vee \neg \neg \psi) \stackrel{a}{\Leftrightarrow}
\] 
\[
\vdash (\neg \phi \wedge \neg \psi) \leftrightarrow \neg(\phi \vee \psi)\;\;\;\;\; \square
\] 
\end{example}

\section{Definizione rigorosa di derivazione}
L'insieme delle \textbf{derivazioni} è il più piccolo insieme \( x \) tc:
\begin{enumerate}
    \item \( \phi \in X \) (\( \phi \) è una formula)
    \item se \( \underset{\phi_1}{D_1}\; \underset{\phi_2}{D_2} \in X \Rightarrow \)
        \begin{center}
             \(
            \underset{\phi_1}{D_1}\;\;\;\; \underset{\phi_2}{D_2}
            \)\\
            \hspace{1.8cm}\line(1,0){50}\(\;\;\; \wedge I\;\;\;\; \in X\)\\  
             \( \phi_1 \wedge \phi_2 \)
        \end{center}
    \item se \( \underset{\phi_1 \wedge \phi_2}{D} \in X  \Rightarrow\)
        \begin{center}
             \(
            \underset{\phi_1 \wedge \phi_2}{D}
            \)\\
            \hspace{3.8cm}\line(1,0){40}\(\;\;\; \wedge E_i\;\;\;\; \in X\;\;\;\; (i = 1,2)\)\\  
             \( \phi_i \)
        \end{center}

    \item \( \underset{\phi_1}{D_1}, \underset{\phi_1 \to \phi_2}{D_2} \in X \Rightarrow \)
        \begin{center}
             \(
            \underset{\phi_1}{D_1}\;\;\;\; \underset{\phi_1 \to \phi_2}{D_2}
            \)\\
            \hspace{2.1cm}\line(1,0){50}\(\;\;\; \to E\;\;\;\; \in X\)\\  
             \( \phi_2 \)
        \end{center}

    \item \( \underset{\psi}{\stackrel{\phi}{D}}\;\; \in X \Rightarrow \)
        \begin{center}
             \(
             \underset{\psi}{\stackrel{[\phi]^*}{D}}
            \)\\
            \hspace{2.3cm}\line(1,0){40}\(\;\;\; \to I^*\;\;\;\; \in X\)\\  
             \( \phi \to \psi \)
        \end{center}

    \item \( \underset{\bot}{D} \in X \Rightarrow \)
        \begin{center}
             \(
            \underset{\bot}{D}
            \)\\
            \hspace{2.2cm}\line(1,0){20}\(\;\;\; \bot_i\;\;\;\; \in X\;\;\;\;\)\\  
             \( \phi \)
        \end{center}

    \item \( \underset{\bot}{\stackrel{\neg \phi}{D}}\; \in X \Rightarrow \)
        \begin{center}
             \(
             \underset{\bot}{\stackrel{[\neg \phi]^*}{D}}
            \)\\
            \hspace{2.8cm}\line(1,0){20}\(\;\;\; RAA^*\;\;\;\; \in X\;\;\;\;\)\\  
             \( \phi \)
        \end{center}

    \item \( \underset{\phi_i}{D}\; \in X \Rightarrow \)
        \begin{center}
             \(
             \underset{\phi_i}{D}
            \)\\
            \hspace{3.6cm}\line(1,0){40}\(\;\;\; \vee I_i\;\;\;\; \in X\;\;\;\;(i = 1,2)\)\\  
             \( \phi_1 \vee \phi_2 \)
        \end{center}

    \item \( \underset{\phi \vee \phi}{D}, \underset{\gamma}{\stackrel{\phi}{D_1}}, \underset{\gamma}{\stackrel{\psi}{D_2}}\;\in X \Rightarrow \)
        \begin{center}
             \(
             \underset{\phi \vee \phi}{D}\;\;\; \underset{\gamma}{\stackrel{[\phi]}{D_1}}\;\;\; \underset{\gamma}{\stackrel{[\psi]}{D_2}}
            \)\\
            \hspace{2cm}\line(1,0){70}\(\;\;\; \vee E\;\;\;\; \in X\)\\  
             \( \gamma \)
        \end{center}


\end{enumerate}

\section{Definizione di altezza di una derivazione \( h[D] \) }
    \begin{flalign*}
        \bullet\qquad & 
        h[\phi] = 0 
        &
    \end{flalign*}

    \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\alpha}{D_1}\;\;\; \underset{\beta}{D_2}}{\alpha \wedge \beta} \wedge I \right] = max\left(h\left[ \underset{\alpha}{D_1} \right], h\left[ \underset{\beta}{D_2} \right]\right) + 1 
        &
    \end{flalign*}

    \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\alpha_1 \wedge \alpha_2}{D}}{\alpha_i} \wedge E_i \right]_{i=1,2}= h\left[ \underset{\alpha_1 \wedge \alpha_2}{D} \right] + 1 
        &
    \end{flalign*}
     
    \begin{flalign*}
        \bullet\qquad & 
        h\left[ \frac{\underset{\beta}{\stackrel{[\alpha]}{D}}}{\alpha \to \beta} \right] = h\left[ \underset{\beta}{\stackrel{\alpha}{D}} \right] +1
        &
    \end{flalign*}

    \begin{flalign*}
        \bullet\qquad & 
        h\left[ \frac{\underset{\alpha}{D_1}\;\;\;\underset{\alpha \to \beta}{D_2}}{\beta} \right] = max \left( h\left[ \underset{\alpha}{D_1} \right], h\left[ \underset{\alpha \to \beta}{D_2} \right] \right) +1
        &
    \end{flalign*}

    \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\bot}{D}}{\beta} \right] = h\left[ \underset{\bot}{D} \right] +1
        &
    \end{flalign*}

        \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\bot}{\stackrel{[\neg \phi]}{D}}}{\phi} \right] = h\left[ \underset{\bot}{\stackrel{\neg \phi}{D}} \right] +1
        &
    \end{flalign*}

        \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\phi_i}{D}}{\phi_1 \vee \phi_2} \right]_{i=1,2} = h\left[ \underset{\phi_i}{D} \right] +1
        &
    \end{flalign*}

        \begin{flalign*}
        \bullet\qquad &
        h\left[ \frac{\underset{\alpha \vee \beta}{D}\;\; \underset{\gamma}{\stackrel{[\alpha]}{D_1}}\;\; \underset{\gamma}{\stackrel{[\beta]}{D_2}}}{\gamma} \right] = max\left( h\left[ \underset{\alpha \vee \beta}{D} \right], h\left[ \underset{\gamma}{\stackrel{\alpha}{D_1}} \right], h\left[ \underset{\gamma}{\stackrel{\beta}{D_2}} \right] \right)+1
        &
    \end{flalign*}

\begin{exercise}
    \[
        h\left[ \frac{\frac{[A \wedge B]^1}{A}\wedge E_1}{A \wedge B} \to I_1 \right] = 3
    \] 
\end{exercise}

\subsection{Principio di induzione sull'altezza di una derivazione}
Sia \( P \) una proprietà sulle derivazioni, allora:

se \( P \) vale per le derivazioni \( D \) tc \( h[D]=0 \) e

se \( \forall D,k (h[D]=k \Rightarrow (\forall \bar{D}[(h[\bar{D}]<k) \Rightarrow P(\bar{D})] \Rightarrow P(D))) \)

allora \( \forall D\;\; . \;\; P(D) \).\\
Se sono in grado di dimostrare la proprietà su tutte le derivazioni di altezza \( <k \)
sono in grado di assumere (\textbf{per ipotesi induttiva}) la proprietà su \( \bar{D} \)
(perchè ha altezza minore di \( D \)). Dall'ipotesi induttiva trovo che P vale per
\( D \) che ha altezza \( k \) e quindi vale per tutte le derivazioni.


\section{Teorema di semantica}
    \begin{enumerate}
        \item \( \Gamma,\psi \models \phi\;\; \Rightarrow\;\; \Gamma \models \psi \to \phi \) (Introduzione dell'implica)
        \item \( \Gamma \models \phi \to \psi \;\&\; \Delta \models \phi \;\;\Rightarrow\;\; \Gamma,\Delta \models \psi \) (Modus ponens)
        \item \( \Gamma \models \phi \;\&\; \Delta \models \psi \;\;\Rightarrow\;\; \Gamma,\Delta \models \phi \wedge \psi \) (Introduzione dell AND)
        \item \( \Gamma \models \phi_1 \wedge \phi_2 \;\;\Rightarrow\;\; \Gamma \models \phi_i \;\;\;\; i \in \{1,2\}  \) (Eliminazione dell'AND)
        \item \( \Gamma \models \bot \;\;\Rightarrow\;\; \Gamma \models \phi \;\;\;\; \forall \phi \) (Ex falso)
        \item \( \Gamma, \neg \phi \models \bot \;\;\Rightarrow\;\; \Gamma \models \phi \) (Riduzione ad assurdo)
    \end{enumerate}
    L'OR è superfluo perchè si può definire in termini dei seguenti connettivi:
    \[
        \{\to , \wedge, \bot\} 
    \] 
    ad esempio si può prendere l'OR non primitivo (per la regola di De Morgan): \[ \vdash \alpha \vee \beta \leftrightarrow \neg(\neg \alpha \wedge \neg \beta) \] 

\section{Soundness e Completeness}
\subsection{Teorema di correttezza (Soundness)}
È il passaggio da deduzione naturale a conseguenza logica:
\[
    \Gamma \vdash \alpha \to \Gamma \models \alpha
\] 
\subsubsection{Lemma 1}
Questo lemma lega la nozione di derivazione a quella di conseguenza logica:
\[
    \underset{\phi}{D} \Rightarrow hp(D) \models \phi
\] 
Utilizziamo:
\begin{itemize}
    \item Tutti i teoremi di semantica
    \item Induzione
\end{itemize}
Tecnica: induzione su \( h(D) \) e per casi sull'ultima regola
\begin{enumerate}
    \item \textbf{Base} \( h[D]=0 \;\;\;D = \phi \;\;\; hp(D) =\phi \;\; hp(D)=\phi \models \phi \) 
    \item \textbf{Passo induttivo}
        \begin{enumerate}
            \item [Caso 1.]
            \[
                D \begin{cases}
                    \frac{\stackrel{[\phi]}{\underset{\psi}{D_1}}}{\phi \to \psi} \to I \;\;\;
                \end{cases}
                h[D_1] < h[D]
            \]
            per ipotesi induttiva \( hp(D_1) \models \psi \), cioè:
            \[
                \underset{\psi}{D_1} \Rightarrow hp(D_1) \models \psi
            \] 
            \begin{enumerate}
                \item \[ \phi \in  hp(D_1), hp(D_1) = \Delta \cup \{\phi\}  \] 
                    \[
                        (ipotesi\;induttiva)\; \Delta \cup \{\phi\} \models \psi \stackrel{1}{\Rightarrow} \Delta \models \phi \to \psi 
                    \] 
                    \[
                    \Delta = hp(D_1) - \{\phi\} = hp(D)
                    \] 
                    \[
                        \underset{\Delta}{hp(D)} \models \phi \to \psi\;\;\; \square
                    \] 
                \item  \[
                \phi \not\in hp(D_1)
                \]  
                \[
                    (ipotesi\;induttiva)\; hp(D_1) \models \psi
                \] 
                Aggiungo \( \phi \) per weakening:
                \[
                    hp(D_1),\phi \models \psi \stackrel{1}{\Rightarrow}
                \] 
                \[ 
                hp(D_1) \models \phi \to \psi
                \] 
                \[
                hp(D) \models \phi \to \psi
                \] 
            \end{enumerate}
            \item [Caso 2.]
                \[
                    D= \frac{\underset{\phi}{D_1}\;\; \underset{\phi \to \psi}{D_2}}{\psi} \to E
                \] 
                Per ipotesi induttiva:
                \[
                hp(D_1) \models \phi\;\;\;\;\; hp(D_2) \models \phi \to \psi \stackrel{2}{\Rightarrow}
                \] 
                \[
                hp(D_1) \cup hp(D_2) \models \psi
                \] 
                \[
                hp(D) \models \psi
                \] 
            \item [(2 casi di congiunzione)]
        \end{enumerate}
\end{enumerate}

\begin{exercise}[a casa]
    Caso 3 (3 teorema di semantica)
    \[
        D= \frac{\underset{\alpha}{D_1}\;\;\underset{\beta}{D_2}}{\alpha \wedge \beta}
    \] 
    Caso 4 (4 teorema di semantica)
    \[
        D= \frac{\underset{\alpha_1 \wedge \alpha_2}{D_1}}{\alpha_i}_{i=1,2}
    \] 
\end{exercise}

\subsection{Teorema di completezza (Completeness)}
È il passaggio da conseguenza logica a deduzione naturale: 
\[
    \Gamma \models \alpha \to  \Gamma \vdash \alpha 
\] 

\end{document}
